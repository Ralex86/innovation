(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(n,e,t){n.exports=t.p+"static/media/help.71578607.svg"},40:function(n,e,t){n.exports=t(76)},45:function(n,e,t){},46:function(n,e,t){},73:function(n,e){},76:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t.n(r),a=t(35),o=t.n(a),c=(t(45),t(1)),u=t(9),s=t(3),l=t(4),d=t(6),p=t(5),f=t(7),h=(t(46),t(2)),g=t(38),m=t.n(g),b=function(n){function e(){var n,t;Object(s.a)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=Object(d.a)(this,(n=Object(p.a)(e)).call.apply(n,[this].concat(i)))).state={isSuccess:!0,isFetching:!0,isFailure:!1,sliders:null},t}return Object(f.a)(e,n),Object(l.a)(e,[{key:"componentDidMount",value:function(){var n=this;fetch("/slides").then(function(n){return n.json()}).then(function(e){n.setState({isFetching:!1,sliders:e})})}},{key:"render",value:function(){var n=this.state,e=n.isSuccess,t=n.isFetching,r=n.isFailure,i=n.sliders;return t?null:r?null:e&&this.props.children(i)}}]),e}(i.a.Component);function x(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n\n  position: absolute;\n  top: 50px;\n  right: 50px;\n  width: 100px;\n  text-align:center;\n\n  padding: 4px;\n\n  color: white;\n  background: rgba(0, 0, 0, 0.6);\n  font-size: small;\n"]);return x=function(){return n},n}var v=function(n){function e(){return Object(s.a)(this,e),Object(d.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(f.a)(e,n),Object(l.a)(e,[{key:"render",value:function(){var n=this.props,e=n.currentIndex,t=n.nSlides;return i.a.createElement(y,null,"".concat(e+1," / ").concat(t))}}]),e}(i.a.Component),y=h.a.div(x()),j=v;function O(){var n=Object(c.a)(["\n  position: relative;\n  z-index: 0;\n\n  height: 100%;\n  width: 100%;\n  paddin-top: 75%;\n"]);return O=function(){return n},n}function w(){var n=Object(c.a)(["\n\tposition: relative;\n\tleft: ","%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n  width: ","%;\n\theight: 100%;\n\n\ttransition: left 0.5s ease-in-out;\n  // transform: ",";\n"]);return w=function(){return n},n}function E(){var n=Object(c.a)(["\n  height: 100%;\n  width: ","%;\n  margin: 4px;\n"]);return E=function(){return n},n}var k=function(n){function e(){var n,t;Object(s.a)(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=Object(d.a)(this,(n=Object(p.a)(e)).call.apply(n,[this].concat(a)))).renderSlides=function(n){var e=100/n.length;return n.map(function(n,t){return r.createElement(S,{slideWidth:e,key:t.toString()},n)})},t.renderPaging=function(n,e){return r.createElement(j,{currentIndex:n,nSlides:e})},t}return Object(f.a)(e,n),Object(l.a)(e,[{key:"render",value:function(){var n=this.props,e=n.slides,t=n.index,i=e.length;return r.createElement(M,null,r.createElement(W,{index:t,sliderWidth:100*i},this.renderSlides(e)),this.renderPaging(t,i))}}]),e}(r.Component),S=h.a.div(E(),function(n){return n.slideWidth}),W=h.a.div(w(),function(n){return 100*-n.index},function(n){return n.sliderWidth},function(n){return"translate3d(".concat(n.x,"px,").concat(n.y,"px,0)")}),M=h.a.div(O()),z=k,q=t(39),D=t.n(q);function H(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n\n  position: absolute;\n  z-index: 999;\n  bottom: ","px;\n  right: 0;\n\n  width: 300px;\n  height: ","px;\n\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\n  transition: bottom 0.35s ease-in-out;\n"]);return H=function(){return n},n}function P(){var n=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: absolute;\n  top: -30px;\n  right: 18px;\n  z-index: 999;\n\n  width: 60px;\n  height: 60px;\n\n  background: ",";\n\n  border-radius: 100%;\n  user-select: none;\n"]);return P=function(){return n},n}function C(){var n=Object(c.a)(["\n  height: 90px;\n  background: rgba(250, 250, 250, 0.8);\n"]);return C=function(){return n},n}function F(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: rgba(250, 250, 250, 0.8);\n"]);return F=function(){return n},n}function I(){var n=Object(c.a)(["\n  display: flex;\n  align-items: center;\n\n  position: relative;\n  height: ","px;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n  background: ",";\n\n  cursor: pointer;\n"]);return I=function(){return n},n}function R(){var n=Object(c.a)(["\n  padding: 8px;\n"]);return R=function(){return n},n}function A(){var n=Object(c.a)(["\n  display: flex;\n  padding: 8px;\n"]);return A=function(){return n},n}function B(){var n=Object(c.a)(["\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  background: ",";\n  cursor: pointer;\n"]);return B=function(){return n},n}function K(){var n=Object(c.a)(["\n  color: ",";\n  padding: 8px;\n  // margin: 8px;\n"]);return K=function(){return n},n}function J(){var n=Object(c.a)(["\n  flex: 1;\n  margin-right: 8px;\n  padding: 8px;\n"]);return J=function(){return n},n}function L(){var n=Object(c.a)([""]);return L=function(){return n},n}function U(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n"]);return U=function(){return n},n}var $="rgb( 3, 178, 141 )",G="white",N=function(n){function e(){var n,t;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(d.a)(this,(n=Object(p.a)(e)).call.apply(n,[this].concat(a)))).state={message:"",questions:[],isOpen:!1},t.handleInput=function(n){t.setState({message:n.target.value})},t.handleSendMessage=function(n){t.props.sendMessage(n),t.setState(function(e){return{questions:[].concat(Object(u.a)(e.questions),[n])}},function(){return t.setState({message:""})})},t.handleKeyPress=function(n){"Enter"===n.key&&t.handleSendMessage(t.state.message)},t.renderHeader=function(){return i.a.createElement(nn,{onClick:function(){return t.setState(function(n){return{isOpen:!n.isOpen}})}},i.a.createElement(X,null,"Poser une question"),i.a.createElement(an,null,i.a.createElement(rn,null)))},t.renderMain=function(n){return i.a.createElement(en,null,i.a.createElement(Q,null,n.map(function(n,e){return i.a.createElement(T,{key:e.toString()},n)})))},t.renderFooter=function(n){return i.a.createElement(tn,null,i.a.createElement(Z,null,i.a.createElement(V,{value:n,placeholder:"Posez moi une question",onChange:t.handleInput,onKeyPress:t.handleKeyPress}),i.a.createElement(Y,{onClick:function(){return t.handleSendMessage(n)}})),i.a.createElement(_,null,"".concat(n.length," caract\xe8res")))},t}return Object(f.a)(e,n),Object(l.a)(e,[{key:"render",value:function(){var n=this.state,e=n.message,t=n.questions,r=n.isOpen;return i.a.createElement(on,{isOpen:r},this.renderHeader(),this.renderMain(t),this.renderFooter(e))}}]),e}(i.a.Component),Q=h.a.div(U()),T=h.a.div(L()),V=h.a.input(J()),X=h.a.div(K(),G),Y=h.a.div(B(),$),Z=h.a.div(A()),_=h.a.div(R()),nn=h.a.div(I(),50,$),en=h.a.div(F()),tn=h.a.div(C()),rn=function(n){return i.a.createElement("img",{alt:"question",src:D.a,width:"40",height:"40",style:{color:"white"}})},an=h.a.div(P(),$),on=h.a.div(H(),function(n){return n.isOpen?0:-250},300),cn=N;function un(){var n=Object(c.a)(["\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  display: flex;\n  flex-direction: column;\n  width: 84px;\n  padding: 4px;\n  right: 10px;\n  width: 100px;\n  color: white;\n  background: rgba(0, 0, 0, 0.6);\n  font-size: small;\n"]);return un=function(){return n},n}var sn=function(n){function e(){return Object(s.a)(this,e),Object(d.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(f.a)(e,n),Object(l.a)(e,[{key:"render",value:function(){var n=this.props.infos,e=n.alpha,t=n.beta,r=n.gamma,a=n.x,o=n.y;return i.a.createElement(ln,null,i.a.createElement("span",null,"alpha: ",e),i.a.createElement("span",null,"beta: ",t),i.a.createElement("span",null,"gamma: ",r),i.a.createElement("span",null,"x: ",a.toFixed(2)),i.a.createElement("span",null,"y: ",o.toFixed(2)))}}]),e}(i.a.Component),ln=h.a.div(un()),dn=sn;function pn(){var n=Object(c.a)(["\n  position: relative;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return pn=function(){return n},n}function fn(){var n=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: relative;\n  width: calc(100% - 80px);\n  height: calc(100% - 80px);\n\n  border-radius: 8px;\n  box-sizing: border-box;\n"]);return fn=function(){return n},n}function hn(){var n=Object(c.a)(["\n  position: relative;\n  width: 15px;\n  height: 15px;\n  margin: 0 auto;\n  border-radius: 100%;\n  background: #9999ff;\n"]);return hn=function(){return n},n}function gn(){var n=Object(c.a)(["\n  position: absolute;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  width: 25px;\n  height: 25px;\n  background: black;\n  border-radius: 100%;\n  user-select: none;\n  transform: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return gn=function(){return n},n}function mn(){var n=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-size: cover;\n  background-image: url(",");\n  border-radius: 15px;\n  border: 1px solid #9999ff;\n  box-shadow: 2px 5px 5px #ccccff;\n"]);return mn=function(){return n},n}var bn=function(n){function e(){var n,t;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(d.a)(this,(n=Object(p.a)(e)).call.apply(n,[this].concat(a)))).state={alpha:null,beta:null,gamma:null,x:20,y:20,windowHeight:window.innerHeight,windowWidth:window.innerWidth,hasWindowResized:!1,screenWidth:0,screenHeight:0,slideIndex:0,isPointerDisplayed:!1,questions:[]},t.screenRef=i.a.createRef(),t.endpoint="/screen",t.socket=m()(t.endpoint),t.updateScreenDimensions=function(){var n=t.screenRef.current,e=n.clientHeight,r=n.clientWidth;t.setState({screenWidth:r,screenHeight:e})},t.updateWindowDimensions=function(){t.setState({windowHeight:window.innerHeight,windowWidth:window.innerWidth},function(){return t.updateScreenDimensions()})},t.renderSlider=function(n,e,t){var r=n.map(function(n){return i.a.createElement(xn,{key:n,slideBackground:n})}),a=t.map(function(n){return i.a.createElement(xn,{key:n.message},i.a.createElement("span",null,n.message))}),o=[].concat(Object(u.a)(r),Object(u.a)(a));return i.a.createElement(z,{index:e,slides:o})},t.renderScreen=function(n,e,r,a,o){return i.a.createElement(jn,{ref:t.screenRef},o&&i.a.createElement(vn,{x:e,y:r},i.a.createElement(yn,null)),i.a.createElement(b,null,function(e){return t.renderSlider(e,n,a)}))},t.renderMessage=function(){return i.a.createElement(cn,{sendMessage:function(n){console.log(n),t.socket.emit("message",{message:n})}})},t.renderMonitoring=function(n,e,t,r,a){return i.a.createElement(dn,{infos:{alpha:n,beta:e,gamma:t,x:r,y:a}})},t}return Object(f.a)(e,n),Object(l.a)(e,[{key:"componentDidMount",value:function(){var n=this;this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.socket.on("position",function(e){var t=e.alpha,r=e.beta,i=e.gamma,a=e.x,o=e.y;n.setState({alpha:t,beta:r,gamma:i,x:a,y:o})}),this.socket.on("questions",function(e){console.log(e),n.setState({questions:e})}),this.socket.on("slideIndex",function(e){n.setState({slideIndex:e})}),this.socket.on("display",function(e){n.setState({isPointerDisplayed:e.display})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var n=this.state,e=n.alpha,t=n.beta,r=n.gamma,a=n.x,o=n.y,c=n.screenWidth,u=n.screenHeight,s=n.slideIndex,l=n.isPointerDisplayed,d=n.questions,p=c*a/200+c/2,f=u*o/200+u/2;return i.a.createElement(On,null,this.renderScreen(s,p,f,d,l),this.renderMonitoring(e,t,r,a,o),this.renderMessage())}}]),e}(i.a.Component),xn=h.a.div(mn(),function(n){return n.slideBackground}),vn=h.a.div(gn(),function(n){return"translate3d(".concat(n.x,"px,").concat(n.y,"px,0)")}),yn=h.a.div(hn()),jn=h.a.div(fn()),On=h.a.div(pn()),wn=bn;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(wn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.b8dbfcc3.chunk.js.map